<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="chat-mapper">
  <select id="selectList" resultType="GroupDto">
  	SELECT *
  	FROM GROUP_INFO
  </select>
  <select id="selectOne" resultType="GroupDto">
  	SELECT*
  	FROM GROUP_INFO WHERE GROUP_TITLE = #{group_title}
  </select>
   <select id="clientnum" resultType="GroupDto">
  	SELECT *
  	FROM GROUP_INFO WHERE GROUP_TITLE = #{group_title}
  </select>
 <!--  <select id="selectOne" resultType="ChatDto">
  	SELECT CHAT_NO, USER_ID
  	FROM CHAT WHERE NAME = #{user_id}
  </select> -->
  <insert id="insert">
  	INSERT INTO GROUP_INFO VALUES
  	(GROUP_INFO_SEQ.NEXTVAL,#{user_id}, #{group_title}, #{group_content}, 
  	#{group_public},SYSDATE,<!--${group_hashtag}  -->#{group_title}, #{group_su},
  	0, #{group_pw},'N')
  </insert>
  <update id="clientplus">
  	UPDATE GROUP_INFO SET GROUP_CLIENT = GROUP_CLIENT+1
  	WHERE GROUP_TITLE = #{group_title}
  </update>
  <update id="clientminus">
  	UPDATE GROUP_INFO SET GROUP_CLIENT = GROUP_CLIENT-1
  	WHERE GROUP_TITLE = #{group_title}
  </update>
  <delete id="deleteroom">
  	DELETE FROM GROUP_INFO
  	WHERE GROUP_TITLE = #{group_title}
  </delete>
</mapper>
